app.controller('NavbarCtrl', ['$scope', '$auth', '$location','$window', function($scope, $auth, $location, $window){
  
  $auth.validateUser().then(function(response) {
    $scope.loggedIn  = false;
  }).catch(function(response) {
    $scope.loggedIn = true;
    $scope.home = "dashboard"
  });

  $scope.logout = function() {
    $auth.signOut().then(function(response) {
      console.log(response);
      $window.location.href = '/';
    }).catch(function(response) {
      console.log(response);
    });
  };
}]).
factory('notify', ['$window', function(win) {
   var msgs = [];
   return function(msg) {
     msgs.push(msg);
     if (msgs.length == 3) {
       win.alert(msgs.join("\n"));
       msgs = [];
     }
   };
 }]);