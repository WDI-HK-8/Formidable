
var app = angular.module('formidable', ['ngRoute','ng-token-auth']);

app.config(['$routeProvider','$authProvider', function($routeProvider, $authProvider) {
  // Configure Angular Routes
  $routeProvider.
    when('/', {
      templateUrl: "<%= asset_path('static_pages/index.html') %>",
      controller: 'StaticPagesCtrl'
    }).
    when('/signup', {
       templateUrl: "<%= asset_path('auth/signup.html') %>",
       controller: 'SignUpCtrl'
     }).
    when('/login', {
      templateUrl: "<%= asset_path('auth/login.html') %>",
      controller: 'LogInCtrl'
    }).
    when('/dashboard', {
      templateUrl: "<%= asset_path('forms/index.html') %>",
      controller: 'ListFormsCtrl'
    }).
    when('/forms/:id/edit', {
      templateUrl: "<%= asset_path('forms/update.html') %>",
      controller: 'FormsUpdateCtrl'
    }).
    when('/forms/:id/submission', {
      templateUrl: "<%= asset_path('submissions/index.html') %>",
      controller: 'SubmissionsIndexCtrl'
    });

  $authProvider.configure({
    apiUrl: "<%= ENV['URL'] %>" || 'http://localhost:3000'
  });
}]);
