<navbar></navbar>
<div class="wrap-dashboard">
  <div class="container-fluid wrap">
    <div class="row">
      <div class="list-forms text-center">
        <div class="col-xs-4">
          <h4>Selections</h4>
          <ul>
            <li ng-click="add('text')" class="btn btn-embossed btn-primary">Text</li>
            <li ng-click="add('textarea')" class="btn btn-embossed btn-primary">Large Text</li>
            <li ng-click="add('check')" class="btn btn-embossed btn-primary">Checkboxes</li>
            <li ng-click="add('radio')" class="btn btn-embossed btn-primary">Radioboxes</li>
            <li ng-click="add('dropdown')" class="btn btn-embossed btn-primary">Dropdown</li>
            <li ng-click="add('description')" class="btn btn-embossed btn-primary">Description</li>
          </ul>
        </div>
        <div class="col-xs-4">
          <h4>{{ name }}</h4>
          <ul>
            <li ng-repeat="field in fields track by $index" ng-mouseover="showButtons = true" ng-mouseleave="showButtons = false" class="field btn btn-embossed btn-primary">
              <button ng-click="delete(field,$index)" ng-show="!editPanelVisible && showButtons" class="btn btn-danger">X</button>
              <a href="">
                {{ field.category }}
              </a>
              <button ng-click="displayEditPanel(field)" ng-show="!editPanelVisible && showButtons" class="btn btn-info">Edit</button>  
            </li>
          </ul>
        </div>
        <div class="col-xs-4" ng-show="editPanelVisible" id="editPanel">
          <h4>Edit</h4>
          
          <!--  A FAIRE: Refactor later -->
          <div ng-if="field.category === 'text'">
            <h6>options for {{ field.category }}</h6>
            <h5>{{ field.label }}</h5>
            <form ng-submit="hideAndSaveEditPanel(field,labelInput)">
              <input placeholder="label for {{field.category}}" autocomplete ng-model="labelInput">
              <button type="submit">Save</button>
            </form>
          </div>
          <div ng-if="field.category === 'textarea'">
            <h6>options for {{ field.category }}</h6>
            <form ng-submit="hideAndSaveEditPanel(field,labelInput)">
              <input placeholder="label for {{field.category}}" autocomplete ng-model="labelInput">
              <button type="submit">Save</button>
            </form>
          </div>
          <div ng-if="field.category === 'dropdown'">
            <h6>options for {{ field.category }}</h6>
            <input placeholder="label for {{field.category}}" autocomplete ng-model="labelInput">
            <input placeholder="new option" ng-model="newOptionEntry">
            <button ng-click="addOptions(newOptionEntry)">Add</button>
            <button ng-click="hideAndSaveEditPanel(field,labelInput)">Save</button>
            <li ng-repeat="option in options track by $index">
              {{ option }}
              <button ng-click="deleteOption(option,$index)">x</button>
            </li>
          </div>
          
        </div>
      </div>
    </div>
  </div>
</div>  