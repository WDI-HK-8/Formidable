<navbar></navbar>
<div class="wrap-dashboard" id="editForm">
  <div class="container-fluid wrap">
    
    <div class="container" id="formTitle">
      <div class="row">
        <h4>{{ name }}</h4>
      </div>
    </div>

    <div class="row">
      <div class="list-forms text-center">
        <div class="col-xs-2" id="sidebar">
          <ul id="selections">
            <li ng-repeat="category in categories" ng-click="add(category)" class="btn btn-embossed btn-primary">{{ category }}<i class="addContent fa fa-plus-square"></i></li>
          </ul>
        </div>

        <div class="col-xs-6" id="listOfContents">
          <ul class="contentField">
            <li ng-repeat="field in fields | orderFieldBy:'index'" ng-mouseover="showButtons = true" ng-mouseleave="showButtons = false" class="field btn btn-embossed btn-primary">
              <i ng-click="delete(field)" class="fa fa-times fa-2x deleteButton" ng-show="!editPanelVisible && showButtons"></i>
              <a href="">
                {{ field.category }} : {{ field.label }} : {{ field.index }}
              </a>
              <i ng-click="displayEditPanel(field)" class="btn editButton fa fa-cog fa-spin fa-2x" ng-show="!editPanelVisible && showButtons"></i>  
            </li>
          </ul>
        </div>

        <div class="col-xs-4" ng-show="editPanelVisible" id="editPanel">
 
          <div ng-if="field.category === 'textarea' ||  field.category === 'text' ">
            <h6>options for {{ field.category }}</h6>
            <h5>{{ field.label }}</h5>
            <form ng-submit="hideAndSaveEditPanel(field,labelInput)">
              <input placeholder="label for {{field.category}}" autocomplete ng-model="labelInput">
              <button type="submit">Save</button>
            </form>
            <button ng-click="quitEditPanel()">Exit</button>
          </div>

          <div ng-if="field.category === 'dropdown' || field.category === 'checkboxes' || field.category === 'radio'">
            <h6>options for {{ field.category }}</h6>
            <input placeholder="label for {{field.category}}" autocomplete ng-model="labelInput">
            <input placeholder="new option" ng-model="newOptionEntry">
            <button ng-click="addOptions(newOptionEntry)">Add</button>
            <button ng-click="hideAndSaveEditPanel(field,labelInput)">Save</button>
            <li ng-repeat="option in options track by $index">
              {{ option }}
              <button ng-click="deleteOption(option)">x</button>
            </li>
            <button ng-click="quitEditPanel()">Exit</button>
          </div>

          <div ng-if="field.category === 'description'">
            <h6>options for {{ field.category }}</h6>
            <h5>{{ field.label }}</h5>
            <form ng-submit="hideAndSaveEditPanel(field,labelInput)">
              <input placeholder="label for {{field.category}}" autocomplete ng-model="labelInput">
              <input placeholder="your text here" autocomplete ng-model="textInput">
              <button type="submit" ng-click="addDescription(textInput)">Save</button>
            </form>
            <button ng-click="quitEditPanel()">Exit</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>  